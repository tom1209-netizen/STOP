{
  "tempme": {
    "base_encoder": "ViT-B/32",
    "pretrained_path": "./pretrained",
    "lora_dim": 8,
    "tome_r": 2,
    "merge_frame_num": "2-2-2",
    "merge_layer": [6, 8, 10],
    "merge_token_proportion": [0.3, 0.7],
    "frame_list": [32, 16, 8, 4],
    "patch_list": [197, 98, 49, 25],
    "frame_pos": 1
  },
  "stop": {
    "cross_model": "cross-base",
    "pretrained_clip_name": "ViT-B/32",
    "pretrained_dir": "./pretrained",
    "cache_dir": "./cache",
    "freeze_clip": false,
    "freeze_layer_num": 0,
    "sim_header": "meanP",
    "pre_visual_pooling": false,
    "temporal_prompt": "group2-2",
    "new_added_modules": ["prompt", "temporal"],
    "loss_type": "CrossEn"
  },
  "training": {
    "training_mode": "joint",
    "tempme_lr": 1e-4,
    "stop_lr": 1e-5,
    "batch_size": 8,
    "num_epochs": 20,
    "warmup_epochs": 2,
    "optimizer": "AdamW",
    "weight_decay": 0.01,
    "gradient_accumulation_steps": 1,
    "max_grad_norm": 1.0,
    "scheduler": "cosine",
    "tempme_loss_weight": 1.0,
    "stop_loss_weight": 1.0,
    "save_every_n_epochs": 2,
    "checkpoint_dir": "./checkpoints/unified_model",
    "eval_every_n_epochs": 1,
    "train_data_path": "./data/train",
    "val_data_path": "./data/val",
    "datatype": "msrvtt"
  },
  "device": "cuda",
  "max_frames": 12,
  "video_size": 224,
  "video_fps": 3.0,
  "num_segments": 32,
  "top_k": 5,
  "similarity_threshold": 0.5
}